<!DOCTYPE html>
<html>
<head>
	<title>Giphy API</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

</head>
<body>

   <div id="gifsView"></div>

   <form id="gifs-form">

		<label for="movie-input">Add your favorite movie star</label>
	    <input type="text" id="character-input"><br>	

	    <input id="addCharacter" type="submit" value="Click to add">

   </form>

   <div id="displayGifs"></div>

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript">


	
	//creating array to store the users input
	var topics = ['emma watson'];
	console.log(topics);
	
	function buttons(){ 
        
        $("#gifsView").empty();        

        for (var i = 0; i < topics.length; i++) {

        	var button = $("<button>");

        	button.text(topics[i]);
        	console.log(button);

        	$("#gifsView").append(button);
    }};


	$('#addCharacter').on('click',function(){

		var input = $('#character-input').val()
		console.log(input);

		topics.push(input);

		buttons();

	});
	 

    //API  	
	var apiUrl = "http://api.giphy.com/v1/gifs/search?q=" + topics + "&limit=10&rating=&api_key=dc6zaTOxFJmzC";
	var request = {
		url: apiUrl,
		method: 'GET'
	};

   //ajax request function 
   $.ajax(request).done(function(response){

	   	console.log(response);
	   	

        for (var i = 0; i < response.data.length; i++) {
        	
        	var gifs = $('<src='+ response.data[i].url +'>');
        	

        	$('#displayGifs').append(gifs);

        	console.log(gifs);


        }

   });





     



</script>
</html>